var _hyperapp = require("hyperapp");
const API_URL = "http://localhost:3000/api/";
const cardFx = cardType => [getCard, cardType];
const getCard = async (dispatch, cardType) => {
  console.log("Getting a card...");
  const res = await fetch(API_URL + cardType);
  requestAnimationFrame(() => dispatch(NewCard, res.text()));
};
const FetchCard = (_, event) => [state, cardFx(event.target.value)];
const NewCard = (state, payload) => ({
  ...state,
  currentCard: payload
});
const FetchCardMock = (state, event) => ({
  ...state,
  currentCard: event.target.value
});
const CardDiv = currentCard => _hyperapp.h("div", {
  className: "card-div"
}, [_hyperapp.h("p", {}, _hyperapp.text(currentCard))]);
const CardButton = (cardType, label, className) => _hyperapp.h("button", {
  type: "button",
  className: `card-button ${className}`,
  value: cardType,
  onClick: FetchCard
}, [_hyperapp.text(label)]);
_hyperapp.app({
  init: {
    currentCard: "Choose Red or Blue"
  },
  view: ({currentCard}) => _hyperapp.h("main", {}, [_hyperapp.h("h1", {
    className: "headline"
  }, _hyperapp.text("Hacker Strategies!")), CardDiv(currentCard), CardButton("red", "Red Team", "red-team"), CardButton("blue", "Blue Team", "blue-team")]),
  node: document.getElementById("app")
});
