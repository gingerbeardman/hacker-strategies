var _hyperapp = require("hyperapp");
const API_URL = "http://localhost:3000/api/";
const getCard = async (dispatch, payload) => {
  const res = await fetch(API_URL + payload.endpoint);
  dispatch(NewCard, res.text());
};
const NewCard = (state, payload) => ({
  ...state,
  currentCard: payload
});
const CardDiv = currentCard => _hyperapp.h("div", {
  className: "card-div"
}, [_hyperapp.h("p", {}, _hyperapp.text(currentCard))]);
const CardButton = (cardType, label, className) => _hyperapp.h("button", {
  type: "button",
  className: `card-button ${className}`,
  onClick: [getCard, {
    action: NewCard
  }]
}, [_hyperapp.text(label)]);
_hyperapp.app({
  init: {
    currentCard: "Choose Red or Blue"
  },
  view: ({currentCard}) => _hyperapp.h("main", {}, [_hyperapp.h("h1", {
    className: "headline"
  }, _hyperapp.text("Hacker Strategies!")), CardDiv(currentCard), CardButton("red", "Red Team", "red-team"), CardButton("blue", "Blue Team", "blue-team")]),
  node: document.getElementById("app")
});
